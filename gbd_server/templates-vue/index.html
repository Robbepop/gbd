<!DOCTYPE html>

<html lang="en">
<head>
    {% include "header.html" %}
</head>
<body>
{% raw %}
<div class="container" id="app">
    <b-container>
        <div style="margin-top: 10px">
            <b-form @submit="submitQuery" @reset="onReset">
                <b-form-group id="query">
                    <b-form-input
                            id="query"
                            v-model="form.query"
                            placeholder="Enter query"
                    ></b-form-input>
                </b-form-group>

                <b-form-group id="group-selection">
                    <b-form-checkbox-group v-model="form.checked">
                        <b-form-checkbox-group
                                v-model="form.selected_groups"
                                :options="form.groups"
                                name="attributes"
                        ></b-form-checkbox-group>
                    </b-form-checkbox-group>
                </b-form-group>
                <b-button type="submit" variant="primary">Submit</b-button>
                <b-button type="reset" variant="danger">Reset</b-button>
            </b-form>
        </div>
    </b-container>
    <b-container>
        <b-row>
            <b-col>
                <p class="mt-3">Current Page: {{ table.current_page }}</p>
            </b-col>
            <b-col>
                <b-form-select v-model="table.per_page" :options="table.options"></b-form-select>
            </b-col>
        </b-row>
        <b-row>
            <b-table
                    id="result-table"
                    :head-variant="table.head_variant"
                    :items="result"
                    :per-page="table.per_page"
                    :current-page="table.current_page"
                    :busy="table.table_busy"
                    hover
                    show-empty
                    striped
                    small
            >
                <template v-slot:table-busy>
                    <div class="text-center text-danger my-2">
                        <b-spinner class="align-middle"></b-spinner>
                        <strong>Loading...</strong>
                    </div>
                </template>
            </b-table>
            <b-pagination
                    v-model="table.current_page"
                    :total-rows="rows"
                    :per-page="table.per_page"
                    align="center"
                    aria-controls="result-table"
            ></b-pagination>
        </b-row>
    </b-container>
</div>
{% endraw %}
</body>
<script type="text/javascript" src="{{ url_for('static', filename='js/index.js') }}">
</script>
</html>
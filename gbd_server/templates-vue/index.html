<!DOCTYPE html>

<html lang="en">
<head>
    {% include "header.html" %}
</head>
<body>
{% raw %}
<div class="container" id="app">
    <div>
        <template>
            <div>
                <b-form @submit="submitQuery" @reset="onReset">
                    <b-form-group
                            id="query"
                            label="Query for GBD"
                            label-for="query"
                    >
                        <b-form-input
                                id="query"
                                v-model="form.query"
                                placeholder="Enter query"
                        ></b-form-input>
                    </b-form-group>

                    <b-form-group id="group-selection">
                        <b-form-checkbox-group v-model="form.checked">
                            <b-form-checkbox-group
                                    v-model="form.selected_groups"
                                    :options="form.groups"
                                    name="attributes"
                            ></b-form-checkbox-group>
                        </b-form-checkbox-group>
                    </b-form-group>
                    <b-button type="submit" variant="primary">Submit</b-button>
                    <b-button type="reset" variant="danger">Reset</b-button>
                </b-form>
            </div>
        </template>
    </div>
    <div style="margin-top: 60px">
        <b-pagination
                v-model="current_page"
                :total-rows="rows"
                :per-page="per_page"
                align="center"
                aria-controls="result-table"
        ></b-pagination>
        <p class="mt-3">Current Page: {{ current_page }}</p>
        <b-table
                id="result-table"
                :head-variant="head_variant"
                :items="result"
                :per-page="per_page"
                :current-page="current_page"
                :busy="table_busy"
                hover
                show-empty
                striped
        >
            <template v-slot:table-busy>
                <div class="text-center text-danger my-2">
                    <b-spinner class="align-middle"></b-spinner>
                    <strong>Loading...</strong>
                </div>
            </template>
        </b-table>
    </div>
</div>
{% endraw %}
</body>
<script type="text/javascript" src="{{ url_for('static', filename='js/index.js') }}">
</script>
</html>